@startuml


客户端 <-> 推送中心: 建立WS链接
客户端 -> 推送中心: 发起鉴权消息，带入projectId和token
推送中心 -> 推送中心: 鉴权，维护所有鉴权的连接

客户端 <- 推送中心: 鉴权成功响应auth_success，失败auth_fail

客户端 -> 推送中心: 失败，就退出，成功发起订阅消息

推送中心 -> 客户端: 检查客户端是否鉴权，如果鉴权就订阅返回sub_success，如果没鉴权就返回sub_fail

客户端 -> 客户端: 根据响应状态，决定正常退出或异常

@enduml